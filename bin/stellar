#!/usr/bin/env node

'use strict'

let Commander = require('./commander')

// create a new Commander instance
let commander = new Commander()

// register makeAction command
commander.command('makeAction')
  .description('Create a new action file')
  .option('module', 'Module here the action must be created')
  .action(require('./commands/makeAction'))

// register makeModel command
commander.command('makeModel')
  .description('Create a new model')
  .option('module', 'Module here the model must be created')
  .option('crud', 'Create a set of actions with the CRUD operations')
  .option('actionName', 'Overwrite the action file name')
  .action(require('./commands/makeModel'))

// register run command
commander.command('run')
  .description('Run a Stellar instance')
  .option('prod', 'Enable production mode')
  .option('port', 'Define the port here the server will listening')
  .action(require('./commands/run'))

// register cluster command
commander.command('cluster')
  .description('Create a custer')
  .action(require('./commands/cluster'))

// parse the command line argument an execute the requested action
commander.parse(process.argv)
